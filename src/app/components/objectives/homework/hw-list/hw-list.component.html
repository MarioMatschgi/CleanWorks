<table
  mat-table
  [dataSource]="dataSource"
  matSort
  class="mat-elevation-z8"
  (matSortChange)="sortChanged($event)"
>
  <ng-container matColumnDef="title">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
    <td mat-cell *matCellDef="let hw">{{ hw.title }}</td>
  </ng-container>

  <ng-container matColumnDef="subject">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Subject</th>
    <td mat-cell *matCellDef="let hw">
      {{ du.sj.getById(hw.subjectId)?.title }}
    </td>
  </ng-container>

  <ng-container matColumnDef="dueDate">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Due</th>
    <td mat-cell *matCellDef="let hw">
      {{ hw.dueDate | normalDate }}
    </td>
  </ng-container>

  <ng-container matColumnDef="complete">
    <th mat-header-cell *matHeaderCellDef>Complete</th>
    <td mat-cell *matCellDef="let hw">
      <button
        mat-raised-button
        background="success"
        (click)="du.hw.complete(hw); $event.stopPropagation()"
      >
        Complete
      </button>
    </td>
  </ng-container>

  <ng-container matColumnDef="completed">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Completed</th>
    <td mat-cell *matCellDef="let hw">
      <p>{{ hw.completed | normalDate }}</p>
    </td>
  </ng-container>

  <ng-container matColumnDef="remove">
    <th mat-header-cell *matHeaderCellDef>Remove</th>
    <td mat-cell *matCellDef="let hw">
      <button
        mat-raised-button
        background="warn"
        (click)="du.hw.remove(hw); $event.stopPropagation()"
      >
        Remove
      </button>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr
    mat-row
    *matRowDef="let hw; columns: displayedColumns"
    class="clickable"
    (click)="du.hw.view(hw)"
    [class.bg-warn]="du.hw.isOverDue(hw)"
  ></tr>
</table>
